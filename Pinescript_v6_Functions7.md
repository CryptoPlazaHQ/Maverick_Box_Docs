TYPE
const plot_style
SEE ALSO
plotplot.style_steplinebrplot.style_linebrplot.style_steplineplot.style_stepline_diamondplot.style_histogramplot.style_crossplot.style_areaplot.style_areabrplot.style_columnsplot.style_circles
plot.style_linebr
A named constant for the 'Line With Breaks' style, to be used as an argument for the style parameter in the plot function. Similar to plot.style_line, except the gaps in the data are not filled.
TYPE
const plot_style
SEE ALSO
plotplot.style_steplinebrplot.style_lineplot.style_steplineplot.style_stepline_diamondplot.style_histogramplot.style_crossplot.style_areaplot.style_areabrplot.style_columnsplot.style_circles
plot.style_stepline
A named constant for the 'Step Line' style, to be used as an argument for the style parameter in the plot function.
TYPE
const plot_style
SEE ALSO
plotplot.style_lineplot.style_steplinebrplot.style_stepline_diamondplot.style_linebrplot.style_histogramplot.style_crossplot.style_areaplot.style_areabrplot.style_columnsplot.style_circles
plot.style_stepline_diamond
A named constant for the 'Step Line With Diamonds' style, to be used as an argument for the style parameter in the plot function. Similar to plot.style_stepline, except the data changes are also marked with the Diamond shapes.
TYPE
const plot_style
SEE ALSO
plotplot.style_steplinebrplot.style_lineplot.style_linebrplot.style_histogramplot.style_crossplot.style_areaplot.style_areabrplot.style_columnsplot.style_circles
plot.style_steplinebr
A named constant for the 'Step line with Breaks' style, to be used as an argument for the style parameter in the plot function.
TYPE
const plot_style
SEE ALSO
plotplot.style_circlesplot.style_lineplot.style_linebrplot.style_steplineplot.style_stepline_diamondplot.style_histogramplot.style_crossplot.style_areaplot.style_areabrplot.style_columns
position.bottom_center
Table position is used in table.new, table.cell functions.
Binds the table to the bottom edge in the center.
TYPE
const string
SEE ALSO
table.newtable.celltable.set_positionposition.top_leftposition.top_centerposition.top_rightposition.middle_leftposition.middle_centerposition.middle_rightposition.bottom_left
position.bottom_left
Table position is used in table.new, table.cell functions.
Binds the table to the bottom left of the screen.
TYPE
const string
SEE ALSO
table.newtable.celltable.set_positionposition.top_leftposition.top_centerposition.top_rightposition.middle_leftposition.middle_centerposition.middle_rightposition.bottom_center
position.bottom_right
Table position is used in table.new, table.cell functions.
Binds the table to the bottom right of the screen.
TYPE
const string
SEE ALSO
table.newtable.celltable.set_positionposition.top_leftposition.top_centerposition.top_rightposition.middle_leftposition.middle_centerposition.middle_rightposition.bottom_leftposition.bottom_center
position.middle_center
Table position is used in table.new, table.cell functions.
Binds the table to the center of the screen.
TYPE
const string
SEE ALSO
table.newtable.celltable.set_positionposition.top_leftposition.top_centerposition.top_rightposition.middle_leftposition.middle_rightposition.bottom_leftposition.bottom_center
position.middle_left
Table position is used in table.new, table.cell functions.
Binds the table to the left side of the screen.
TYPE
const string
SEE ALSO
table.newtable.celltable.set_positionposition.top_leftposition.top_centerposition.top_rightposition.middle_centerposition.middle_rightposition.bottom_leftposition.bottom_center
position.middle_right
Table position is used in table.new, table.cell functions.
Binds the table to the right side of the screen.
TYPE
const string
SEE ALSO
table.newtable.celltable.set_positionposition.top_leftposition.top_centerposition.top_rightposition.middle_leftposition.middle_centerposition.bottom_leftposition.bottom_center
position.top_center
Table position is used in table.new, table.cell functions.
Binds the table to the top edge in the center.
TYPE
const string
SEE ALSO
table.newtable.celltable.set_positionposition.top_leftposition.top_rightposition.middle_leftposition.middle_centerposition.middle_rightposition.bottom_leftposition.bottom_center
position.top_left
Table position is used in table.new, table.cell functions.
Binds the table to the upper-left edge.
TYPE
const string
SEE ALSO
table.newtable.celltable.set_positionposition.top_centerposition.top_rightposition.middle_leftposition.middle_centerposition.middle_rightposition.bottom_leftposition.bottom_center
position.top_right
Table position is used in table.new, table.cell functions.
Binds the table to the upper-right edge.
TYPE
const string
SEE ALSO
table.newtable.celltable.set_positionposition.top_leftposition.top_centerposition.middle_leftposition.middle_centerposition.middle_rightposition.bottom_leftposition.bottom_center
scale.left
Scale value for indicator function. Indicator is added to the left price scale.
TYPE
const scale_type
SEE ALSO
indicator
scale.none
Scale value for indicator function. Indicator is added in 'No Scale' mode. Can be used only with 'overlay=true'.
TYPE
const scale_type
SEE ALSO
indicator
scale.right
Scale value for indicator function. Indicator is added to the right price scale.
TYPE
const scale_type
SEE ALSO
indicator
session.extended
Constant for extended session type (with extended hours data).
TYPE
const string
SEE ALSO
session.regularsyminfo.session
session.regular
Constant for regular session type (no extended hours data).
TYPE
const string
SEE ALSO
session.extendedsyminfo.session
settlement_as_close.inherit
A constant to specify the value of the settlement_as_close parameter in ticker.new and ticker.modify functions.
TYPE
const settlement
SEE ALSO
ticker.newticker.modifysettlement_as_close.onsettlement_as_close.off
settlement_as_close.off
A constant to specify the value of the settlement_as_close parameter in ticker.new and ticker.modify functions.
TYPE
const settlement
SEE ALSO
ticker.newticker.modifysettlement_as_close.onsettlement_as_close.inherit
settlement_as_close.on
A constant to specify the value of the settlement_as_close parameter in ticker.new and ticker.modify functions.
TYPE
const settlement
SEE ALSO
ticker.newticker.modifysettlement_as_close.inheritsettlement_as_close.off
shape.arrowdown
Shape style for plotshape function.
TYPE
const string
SEE ALSO
plotshape
shape.arrowup
Shape style for plotshape function.
TYPE
const string
SEE ALSO
plotshape
shape.circle
Shape style for plotshape function.
TYPE
const string
SEE ALSO
plotshape
shape.cross
Shape style for plotshape function.
TYPE
const string
SEE ALSO
plotshape
shape.diamond
Shape style for plotshape function.
TYPE
const string
SEE ALSO
plotshape
shape.flag
Shape style for plotshape function.
TYPE
const string
SEE ALSO
plotshape
shape.labeldown
Shape style for plotshape function.
TYPE
const string
SEE ALSO
plotshape
shape.labelup
Shape style for plotshape function.
TYPE
const string
SEE ALSO
plotshape
shape.square
Shape style for plotshape function.
TYPE
const string
SEE ALSO
plotshape
shape.triangledown
Shape style for plotshape function.
TYPE
const string
SEE ALSO
plotshape
shape.triangleup
Shape style for plotshape function.
TYPE
const string
SEE ALSO
plotshape
shape.xcross
Shape style for plotshape function.
TYPE
const string
SEE ALSO
plotshape
size.auto
Size value for plotshape, plotchar functions. The size of the shape automatically adapts to the size of the bars.
TYPE
const string
SEE ALSO
plotshapeplotcharlabel.set_sizesize.tinysize.smallsize.normalsize.largesize.huge
size.huge
Size value for plotshape, plotchar functions. The size of the shape constantly huge.
TYPE
const string
SEE ALSO
plotshapeplotcharlabel.set_sizesize.autosize.tinysize.smallsize.normalsize.large
size.large
Size value for plotshape, plotchar functions. The size of the shape constantly large.
TYPE
const string
SEE ALSO
plotshapeplotcharlabel.set_sizesize.autosize.tinysize.smallsize.normalsize.huge
size.normal
Size value for plotshape, plotchar functions. The size of the shape constantly normal.
TYPE
const string
SEE ALSO
plotshapeplotcharlabel.set_sizesize.autosize.tinysize.smallsize.largesize.huge
size.small
Size value for plotshape, plotchar functions. The size of the shape constantly small.
TYPE
const string
SEE ALSO
plotshapeplotcharlabel.set_sizesize.autosize.tinysize.normalsize.largesize.huge
size.tiny
Size value for plotshape, plotchar functions. The size of the shape constantly tiny.
TYPE
const string
SEE ALSO
plotshapeplotcharlabel.set_sizesize.autosize.smallsize.normalsize.largesize.huge
splits.denominator
A named constant for the request.splits function. Is used to request the denominator (the number below the line in a fraction) of a splits.
TYPE
const string
SEE ALSO
request.splits
splits.numerator
A named constant for the request.splits function. Is used to request the numerator (the number above the line in a fraction) of a splits.
TYPE
const string
SEE ALSO
request.splits
strategy.cash
This is one of the arguments that can be supplied to the default_qty_type parameter in the strategy declaration statement. It is only relevant when no value is used for the ‘qty’ parameter in strategy.entry or strategy.order function calls. It specifies that an amount of cash in the strategy.account_currency will be used to enter trades.
TYPE
const string
EXAMPLE
//@version=6
strategy("strategy.cash", overlay = true, default_qty_value = 50, default_qty_type = strategy.cash, initial_capital = 1000000)

if bar_index == 0
    // As ‘qty’ is not defined, the previously defined values for the `default_qty_type` and `default_qty_value` parameters are used to enter trades, namely 50 units of cash in the currency of `strategy.account_currency`.
    // `qty` is calculated as (default_qty_value)/(close price). If current price is $5, then qty = 50/5 = 10.
    strategy.entry("EN", strategy.long)
if bar_index == 2
    strategy.close("EN")
SEE ALSO
strategy
strategy.commission.cash_per_contract
Commission type for an order. Money displayed in the account currency per contract.
TYPE
const string
SEE ALSO
strategy
strategy.commission.cash_per_order
Commission type for an order. Money displayed in the account currency per order.
TYPE
const string
SEE ALSO
strategy
strategy.commission.percent
Commission type for an order. A percentage of the cash volume of order.
TYPE
const string
SEE ALSO
strategy
strategy.direction.all
It allows strategy to open both long and short positions.
TYPE
const string
SEE ALSO
strategy.risk.allow_entry_in
strategy.direction.long
It allows strategy to open only long positions.
TYPE
const string
SEE ALSO
strategy.risk.allow_entry_in
strategy.direction.short
It allows strategy to open only short positions.
TYPE
const string
SEE ALSO
strategy.risk.allow_entry_in
strategy.fixed
This is one of the arguments that can be supplied to the default_qty_type parameter in the strategy declaration statement. It is only relevant when no value is used for the ‘qty’ parameter in strategy.entry or strategy.order function calls. It specifies that a number of contracts/shares/lots will be used to enter trades.
TYPE
const string
EXAMPLE
//@version=6
strategy("strategy.fixed", overlay = true, default_qty_value = 50, default_qty_type = strategy.fixed, initial_capital = 1000000)

if bar_index == 0
    // As ‘qty’ is not defined, the previously defined values for the `default_qty_type` and `default_qty_value` parameters are used to enter trades, namely 50 contracts.
    // qty = 50
    strategy.entry("EN", strategy.long)
if bar_index == 2
    strategy.close("EN")
SEE ALSO
strategy
strategy.long
A named constant for use with the direction parameter of the strategy.entry and strategy.order commands. It specifies that the command creates a buy order.
TYPE
const strategy_direction
SEE ALSO
strategy.entrystrategy.exitstrategy.order
strategy.oca.cancel
A named constant for use with the oca_type parameter of the strategy.entry and strategy.order commands. It specifies that the strategy cancels the unfilled order when another order with the same oca_name and oca_type executes.
TYPE
const string
REMARKS
Strategies cannot cancel or reduce pending orders from an OCA group if they execute on the same tick. For example, if the market price triggers two stop orders from strategy.order calls with the same oca_* arguments, the strategy cannot fully or partially cancel either one.
SEE ALSO
strategy.entrystrategy.exitstrategy.order
strategy.oca.none
A named constant for use with the oca_type parameter of the strategy.entry and strategy.order commands. It specifies that the order executes independently of all other orders, including those with the same oca_name.
TYPE
const string
SEE ALSO
strategy.entrystrategy.exitstrategy.order
strategy.oca.reduce
A named constant for use with the oca_type parameter of the strategy.entry and strategy.order commands. It specifies that when another order with the same oca_name and oca_type executes, the strategy reduces the unfilled order by that order's size. If the unfilled order's size reaches 0 after reduction, it is the same as canceling the order entirely.
TYPE
const string
REMARKS
Strategies cannot cancel or reduce pending orders from an OCA group if they execute on the same tick. For example, if the market price triggers two stop orders from strategy.order calls with the same oca_* arguments, the strategy cannot fully or partially cancel either one.
Orders from strategy.exit automatically use this OCA type, and they belong to the same OCA group by default.
SEE ALSO
strategy.entrystrategy.exitstrategy.order
strategy.percent_of_equity
This is one of the arguments that can be supplied to the default_qty_type parameter in the strategy declaration statement. It is only relevant when no value is used for the ‘qty’ parameter in strategy.entry or strategy.order function calls. It specifies that a percentage (0-100) of equity will be used to enter trades.
TYPE
const string
EXAMPLE
//@version=6
strategy("strategy.percent_of_equity", overlay = false, default_qty_value = 100, default_qty_type = strategy.percent_of_equity, initial_capital = 1000000)

// As ‘qty’ is not defined, the previously defined values for the `default_qty_type` and `default_qty_value` parameters are used to enter trades, namely 100% of available equity.
if bar_index == 0
    strategy.entry("EN", strategy.long)
if bar_index == 2
    strategy.close("EN")
plot(strategy.equity)

 // The ‘qty’ parameter is set to 10. Entering position with fixed size of 10 contracts and entry market price = (10 * close).
if bar_index == 4
    strategy.entry("EN", strategy.long, qty = 10)
if bar_index == 6
    strategy.close("EN")
SEE ALSO
strategy
strategy.short
A named constant for use with the direction parameter of the strategy.entry and strategy.order commands. It specifies that the command creates a sell order.
TYPE
const strategy_direction
SEE ALSO
strategy.entrystrategy.exitstrategy.order
text.align_bottom
Vertical text alignment for box.new, box.set_text_valign, table.cell and table.cell_set_text_valign functions.
TYPE
const string
SEE ALSO
table.celltable.cell_set_text_valigntext.align_centertext.align_lefttext.align_right
text.align_center
Text alignment for box.new, box.set_text_halign, box.set_text_valign, label.new and label.set_textalign functions.
TYPE
const string
SEE ALSO
label.newlabel.set_styletext.align_lefttext.align_right
text.align_left
Horizontal text alignment for box.new, box.set_text_halign, label.new and label.set_textalign functions.
TYPE
const string
SEE ALSO
label.newlabel.set_styletext.align_centertext.align_right
text.align_right
Horizontal text alignment for box.new, box.set_text_halign, label.new and label.set_textalign functions.
TYPE
const string
SEE ALSO
label.newlabel.set_styletext.align_centertext.align_left
text.align_top
Vertical text alignment for box.new, box.set_text_valign, table.cell and table.cell_set_text_valign functions.
TYPE
const string
SEE ALSO
table.celltable.cell_set_text_valigntext.align_centertext.align_lefttext.align_right
text.format_bold
A named constant for use with the text_formatting parameter of the label.new(), box.new(), table.cell(), and *set_text_formatting() functions. Makes the text bold.
TYPE
const text_format
SEE ALSO
label.newbox.newtable.cell
text.format_italic
A named constant for use with the text_formatting parameter of the label.new(), box.new(), table.cell(), and *set_text_formatting() functions. Italicizes the text.
TYPE
const text_format
SEE ALSO
label.newbox.newtable.cell
text.format_none
A named constant for use with the text_formatting parameter of the label.new(), box.new(), table.cell(), and *set_text_formatting() functions. Signifies no special text formatting.
TYPE
const text_format
SEE ALSO
label.newbox.newtable.cell
text.wrap_auto
Automatic wrapping mode for box.new and box.set_text_wrap functions.
TYPE
const string
SEE ALSO
box.newbox.set_textbox.set_text_wrap
text.wrap_none
Disabled wrapping mode for box.new and box.set_text_wrap functions.
TYPE
const string
SEE ALSO
box.newbox.set_textbox.set_text_wrap
true
Literal representing one of the values a bool variable can hold, or an expression can evaluate to when it uses comparison or logical operators.
REMARKS
See the User Manual for comparison operators and logical operators.
SEE ALSO
bool
xloc.bar_index
A constant that specifies how functions that create and modify Pine drawings interpret x-coordinates. If xloc = xloc.bar_index, the drawing object treats each x-coordinate as a bar_index value.
TYPE
const string
SEE ALSO
xloc.bar_timeline.newlabel.newbox.newpolyline.newline.set_xloclabel.set_xloc
xloc.bar_time
A constant that specifies how functions that create and modify Pine drawings interpret x-coordinates. If xloc = xloc.bar_time, the drawing object treats each x-coordinate as a UNIX timestamp, expressed in milliseconds.
TYPE
const string
SEE ALSO
xloc.bar_indexline.newlabel.newbox.newpolyline.newline.set_xloclabel.set_xlocxloc.bar_index
yloc.abovebar
A named constant that specifies the algorithm of interpretation of y-value in function label.new.
TYPE
const string
SEE ALSO
label.newlabel.set_ylocyloc.priceyloc.belowbar
yloc.belowbar
A named constant that specifies the algorithm of interpretation of y-value in function label.new.
TYPE
const string
SEE ALSO
label.newlabel.set_ylocyloc.priceyloc.abovebar
yloc.price
A named constant that specifies the algorithm of interpretation of y-value in function label.new.
TYPE
const string
SEE ALSO
label.newlabel.set_ylocyloc.abovebaryloc.belowbar
Functions
alert()
Creates an alert trigger for an indicator or strategy, with a specified frequency, when called on the latest realtime bar. To activate alerts for a script containing calls to this function, open the "Create Alert" dialog box, then select the script name and "Any alert() function call" in the "Condition" section.
SYNTAX
alert(message, freq) → void
ARGUMENTS
message (series string) The message to send when the alert occurs.
freq (input string) Optional. Determines the allowed frequency of the alert trigger. Possible values are: alert.freq_all (allows an alert on any realtime update), alert.freq_once_per_bar (allows an alert only on the first execution for each realtime bar), or alert.freq_once_per_bar_close (allows an alert only when a realtime bar closes). The default is alert.freq_once_per_bar.
EXAMPLE
//@version=6
indicator("`alert()` example", "", true)
ma = ta.sma(close, 14)
xUp = ta.crossover(close, ma)
if xUp
    // Trigger the alert the first time a cross occurs during the real-time bar.
    alert("Price (" + str.tostring(close) + ") crossed over MA (" + str.tostring(ma) + ").", alert.freq_once_per_bar)
plot(ma)
plotchar(xUp, "xUp", "▲", location.top, size = size.tiny)
REMARKS
The alert() function does not display information on the chart.
In contrast to alertcondition, calls to this function do not count toward a script's plot count. Additionally, alert() calls are allowed in local scopes, including the scopes of exported library functions.
See this article in our Help Center to learn more about activating alerts from alert() calls.
SEE ALSO
alertcondition
alertcondition()
Creates alert condition, that is available in Create Alert dialog. Please note, that alertcondition does NOT create an alert, it just gives you more options in Create Alert dialog. Also, alertcondition effect is invisible on chart.
SYNTAX
alertcondition(condition, title, message) → void
ARGUMENTS
condition (series bool) Series of boolean values that is used for alert. True values mean alert fire, false - no alert. Required argument.
title (const string) Title of the alert condition. Optional argument.
message (const string) Message to display when alert fires. Optional argument.
EXAMPLE
//@version=6
indicator("alertcondition", overlay=true)
alertcondition(close >= open, title='Alert on Green Bar', message='Green Bar!')
REMARKS
Please note that an alertcondition call generates an additional plot. All such calls are taken into account when we calculate the number of the output series per script.
SEE ALSO
alert
array.abs()2 overloads
Returns an array containing the absolute value of each element in the original array.
SYNTAX & OVERLOADS
array.abs(id) → array<float>
array.abs(id) → array<int>
ARGUMENTS
id (array<int/float>) An array object.
SEE ALSO
array.new_floatarray.insertarray.slicearray.reverseorder.ascendingorder.descending
array.avg()2 overloads
The function returns the mean of an array's elements.
SYNTAX & OVERLOADS
array.avg(id) → series float
array.avg(id) → series int
ARGUMENTS
id (array<int/float>) An array object.
EXAMPLE
//@version=6
indicator("array.avg example")
a = array.new_float(0)
for i = 0 to 9
    array.push(a, close[i])
plot(array.avg(a))
RETURNS
Mean of array's elements.
SEE ALSO
array.new_floatarray.maxarray.minarray.stdev
array.binary_search()
The function returns the index of the value, or -1 if the value is not found. The array to search must be sorted in ascending order.
SYNTAX
array.binary_search(id, val) → series int
ARGUMENTS
id (array<int/float>) An array object.
val (series int/float) The value to search for in the array.
EXAMPLE
//@version=6
indicator("array.binary_search")
a = array.from(5, -2, 0, 9, 1)
array.sort(a) // [-2, 0, 1, 5, 9]
position = array.binary_search(a, 0) // 1
plot(position)
REMARKS
A binary search works on arrays pre-sorted in ascending order. It begins by comparing an element in the middle of the array with the target value. If the element matches the target value, its position in the array is returned. If the element's value is greater than the target value, the search continues in the lower half of the array. If the element's value is less than the target value, the search continues in the upper half of the array. By doing this recursively, the algorithm progressively eliminates smaller and smaller portions of the array in which the target value cannot lie.
SEE ALSO
array.new_floatarray.insertarray.slicearray.reverseorder.ascendingorder.descending
array.binary_search_leftmost()
The function returns the index of the value if it is found. When the value is not found, the function returns the index of the next smallest element to the left of where the value would lie if it was in the array. The array to search must be sorted in ascending order.
SYNTAX
array.binary_search_leftmost(id, val) → series int
ARGUMENTS
id (array<int/float>) An array object.
val (series int/float) The value to search for in the array.
EXAMPLE
//@version=6
indicator("array.binary_search_leftmost")
a = array.from(5, -2, 0, 9, 1)
array.sort(a) // [-2, 0, 1, 5, 9]
position = array.binary_search_leftmost(a, 3) // 2
plot(position)
EXAMPLE
//@version=6
indicator("array.binary_search_leftmost, repetitive elements")
a = array.from(4, 5, 5, 5)
// Returns the index of the first instance.
position = array.binary_search_leftmost(a, 5) 
plot(position) // Plots 1
REMARKS
A binary search works on arrays pre-sorted in ascending order. It begins by comparing an element in the middle of the array with the target value. If the element matches the target value, its position in the array is returned. If the element's value is greater than the target value, the search continues in the lower half of the array. If the element's value is less than the target value, the search continues in the upper half of the array. By doing this recursively, the algorithm progressively eliminates smaller and smaller portions of the array in which the target value cannot lie.
SEE ALSO
array.new_floatarray.insertarray.slicearray.reverseorder.ascendingorder.descending
array.binary_search_rightmost()
The function returns the index of the value if it is found. When the value is not found, the function returns the index of the element to the right of where the value would lie if it was in the array. The array must be sorted in ascending order.
SYNTAX
array.binary_search_rightmost(id, val) → series int
ARGUMENTS
id (array<int/float>) An array object.
val (series int/float) The value to search for in the array.
EXAMPLE
//@version=6
indicator("array.binary_search_rightmost")
a = array.from(5, -2, 0, 9, 1)
array.sort(a) // [-2, 0, 1, 5, 9]
position = array.binary_search_rightmost(a, 3) // 3
plot(position)
EXAMPLE
//@version=6
indicator("array.binary_search_rightmost, repetitive elements")
a = array.from(4, 5, 5, 5)
// Returns the index of the last instance.
position = array.binary_search_rightmost(a, 5) 
plot(position) // Plots 3
REMARKS
A binary search works on sorted arrays in ascending order. It begins by comparing an element in the middle of the array with the target value. If the element matches the target value, its position in the array is returned. If the element's value is greater than the target value, the search continues in the lower half of the array. If the element's value is less than the target value, the search continues in the upper half of the array. By doing this recursively, the algorithm progressively eliminates smaller and smaller portions of the array in which the target value cannot lie.
SEE ALSO
array.new_floatarray.insertarray.slicearray.reverseorder.ascendingorder.descending
array.clear()
The function removes all elements from an array.
SYNTAX
array.clear(id) → void
ARGUMENTS
id (any array type) An array object.
EXAMPLE
//@version=6
indicator("array.clear example")
a = array.new_float(5,high)
array.clear(a)
array.push(a, close)
plot(array.get(a,0))
plot(array.size(a))
SEE ALSO
array.new_floatarray.insertarray.pusharray.removearray.pop
array.concat()
The function is used to merge two arrays. It pushes all elements from the second array to the first array, and returns the first array.
SYNTAX
array.concat(id1, id2) → array<type>
ARGUMENTS
id1 (any array type) The first array object.
id2 (any array type) The second array object.
EXAMPLE
//@version=6
indicator("array.concat example")
a = array.new_float(0,0)
b = array.new_float(0,0)
for i = 0 to 4
    array.push(a, high[i])
    array.push(b, low[i])
c = array.concat(a,b)
plot(array.size(a))
plot(array.size(b))
plot(array.size(c))
RETURNS
The first array with merged elements from the second array.
SEE ALSO
array.new_floatarray.insertarray.slice
array.copy()
The function creates a copy of an existing array.
SYNTAX
array.copy(id) → array<type>
ARGUMENTS
id (any array type) An array object.
EXAMPLE
//@version=6
indicator("array.copy example")
length = 5
a = array.new_float(length, close)
b = array.copy(a)
a := array.new_float(length, open)
plot(array.sum(a) / length)
plot(array.sum(b) / length)
RETURNS
A copy of an array.
SEE ALSO
array.new_floatarray.getarray.slicearray.sort
array.covariance()
The function returns the covariance of two arrays.
SYNTAX
array.covariance(id1, id2, biased) → series float
ARGUMENTS
id1 (array<int/float>) An array object.
id2 (array<int/float>) An array object.
biased (series bool) Determines which estimate should be used. Optional. The default is true.
EXAMPLE
//@version=6
indicator("array.covariance example")
a = array.new_float(0)
b = array.new_float(0)
for i = 0 to 9
    array.push(a, close[i])
    array.push(b, open[i])
plot(array.covariance(a, b))
RETURNS
The covariance of two arrays.
REMARKS
If biased is true, function will calculate using a biased estimate of the entire population, if false - unbiased estimate of a sample.
SEE ALSO
array.new_floatarray.maxarray.stdevarray.avgarray.variance
array.every()
Returns true if all elements of the id array are true, false otherwise.
SYNTAX
array.every(id) → series bool
ARGUMENTS
id (array<bool>) An array object.
REMARKS
This function also works with arrays of int and float types, in which case zero values are considered false, and all others true.
SEE ALSO
array.somearray.get
array.fill()
The function sets elements of an array to a single value. If no index is specified, all elements are set. If only a start index (default 0) is supplied, the elements starting at that index are set. If both index parameters are used, the elements from the starting index up to but not including the end index (default na) are set.
SYNTAX
array.fill(id, value, index_from, index_to) → void
ARGUMENTS
id (any array type) An array object.
value (series <type of the array's elements>) Value to fill the array with.
index_from (series int) Start index, default is 0.
index_to (series int) End index, default is na. Must be one greater than the index of the last element to set.
EXAMPLE
//@version=6
indicator("array.fill example")
a = array.new_float(10)
array.fill(a, close)
plot(array.sum(a))
SEE ALSO
array.new_floatarray.setarray.slice
array.first()
Returns the array's first element. Throws a runtime error if the array is empty.
SYNTAX
array.first(id) → series <type>
ARGUMENTS
id (any array type) An array object.
EXAMPLE
//@version=6
indicator("array.first example")
arr = array.new_int(3, 10)
plot(array.first(arr))
SEE ALSO
array.lastarray.get
array.from()12 overloads
The function takes a variable number of arguments with one of the types: int, float, bool, string, label, line, color, box, table, linefill, and returns an array of the corresponding type.
SYNTAX & OVERLOADS
array.from(arg0, arg1, ...) → array<type>
array.from(arg0, arg1, ...) → array<series enum>
array.from(arg0, arg1, ...) → array<label>
array.from(arg0, arg1, ...) → array<line>
array.from(arg0, arg1, ...) → array<box>
array.from(arg0, arg1, ...) → array<table>
array.from(arg0, arg1, ...) → array<linefill>
array.from(arg0, arg1, ...) → array<string>
array.from(arg0, arg1, ...) → array<color>
array.from(arg0, arg1, ...) → array<int>
array.from(arg0, arg1, ...) → array<float>
array.from(arg0, arg1, ...) → array<bool>
ARGUMENTS
arg0, arg1, ... (<arg..._type>) Array arguments.
EXAMPLE
//@version=6
indicator("array.from_example", overlay = false)
arr = array.from("Hello", "World!") // arr (array<string>) will contain 2 elements: {Hello}, {World!}.
plot(close)
RETURNS
The array element's value.
REMARKS
This function can accept up to 4,000 'int', 'float', 'bool', or 'color' arguments. For all other types, including user-defined types, the limit is 999.
array.get()
The function returns the value of the element at the specified index.
SYNTAX
array.get(id, index) → series <type>
ARGUMENTS
id (any array type) An array object.
index (series int) The index of the element whose value is to be returned.
EXAMPLE
//@version=6
indicator("array.get example")
a = array.new_float(0)
for i = 0 to 9
    array.push(a, close[i] - open[i])
plot(array.get(a, 9))
RETURNS
The array element's value.
REMARKS
If the index is positive, the function counts forwards from the beginning of the array to the end. The index of the first element is 0, and the index of the last element is array.size() - 1. If the index is negative, the function counts backwards from the end of the array to the beginning. In this case, the index of the last element is -1, and the index of the first element is negative array.size(). For example, for an array that contains three elements, all of the following are valid arguments for the index parameter: 0, 1, 2, -1, -2, -3.
SEE ALSO
array.new_floatarray.setarray.slicearray.sort
array.includes()
The function returns true if the value was found in an array, false otherwise.
SYNTAX
array.includes(id, value) → series bool
ARGUMENTS
id (any array type) An array object.
value (series <type of the array's elements>) The value to search in the array.
EXAMPLE
//@version=6
indicator("array.includes example")
a = array.new_float(5,high)
p = close
if array.includes(a, high)
    p := open
plot(p)
RETURNS
True if the value was found in the array, false otherwise.
SEE ALSO
array.new_floatarray.indexofarray.shiftarray.removearray.insert
array.indexof()
The function returns the index of the first occurrence of the value, or -1 if the value is not found.
SYNTAX
array.indexof(id, value) → series int
ARGUMENTS
id (any array type) An array object.
value (series <type of the array's elements>) The value to search in the array.
EXAMPLE
//@version=6
indicator("array.indexof example")
a = array.new_float(5,high)
index = array.indexof(a, high)
plot(index)
RETURNS
The index of an element.
SEE ALSO
array.lastindexofarray.getarray.lastindexofarray.removearray.insert
array.insert()
The function changes the contents of an array by adding new elements in place.
SYNTAX
array.insert(id, index, value) → void
ARGUMENTS
id (any array type) An array object.
index (series int) The index at which to insert the value.
value (series <type of the array's elements>) The value to add to the array.
EXAMPLE
//@version=6
indicator("array.insert example")
a = array.new_float(5, close)
array.insert(a, 0, open)
plot(array.get(a, 5))
REMARKS
If the index is positive, the function counts forwards from the beginning of the array to the end. The index of the first element is 0, and the index of the last element is array.size() - 1. If the index is negative, the function counts backwards from the end of the array to the beginning. In this case, the index of the last element is -1, and the index of the first element is negative array.size(). For example, for an array that contains three elements, all of the following are valid arguments for the index parameter: 0, 1, 2, -1, -2, -3.
SEE ALSO
array.new_floatarray.setarray.pusharray.removearray.poparray.unshift
array.join()
The function creates and returns a new string by concatenating all the elements of an array, separated by the specified separator string.
SYNTAX
array.join(id, separator) → series string
ARGUMENTS
id (array<int/float/string>) An array object.
separator (series string) The string used to separate each array element.
EXAMPLE
//@version=6
indicator("array.join example")
a = array.new_float(5, 5)
label.new(bar_index, close, array.join(a, ","))
SEE ALSO
array.new_floatarray.setarray.insertarray.removearray.poparray.unshift
array.last()
Returns the array's last element. Throws a runtime error if the array is empty.
SYNTAX
array.last(id) → series <type>
ARGUMENTS
id (any array type) An array object.
EXAMPLE
//@version=6
indicator("array.last example")
arr = array.new_int(3, 10)
plot(array.last(arr))
SEE ALSO
array.firstarray.get
array.lastindexof()
The function returns the index of the last occurrence of the value, or -1 if the value is not found.
SYNTAX
array.lastindexof(id, value) → series int
ARGUMENTS
id (any array type) An array object.
value (series <type of the array's elements>) The value to search in the array.
EXAMPLE
//@version=6
indicator("array.lastindexof example")
a = array.new_float(5,high)
index = array.lastindexof(a, high)
plot(index)
RETURNS
The index of an element.
SEE ALSO
array.new_floatarray.setarray.pusharray.removearray.insert
array.max()4 overloads
The function returns the greatest value, or the nth greatest value in a given array.
SYNTAX & OVERLOADS
array.max(id) → series float
array.max(id) → series int
array.max(id, nth) → series float
array.max(id, nth) → series int
ARGUMENTS
id (array<int/float>) An array object.
EXAMPLE
//@version=6
indicator("array.max")
a = array.from(5, -2, 0, 9, 1)
thirdHighest = array.max(a, 2) // 1
plot(thirdHighest)
RETURNS
The greatest or the nth greatest value in the array.
SEE ALSO
array.new_floatarray.minarray.sum
array.median()2 overloads
The function returns the median of an array's elements.
SYNTAX & OVERLOADS
array.median(id) → series float
array.median(id) → series int
ARGUMENTS
id (array<int/float>) An array object.
EXAMPLE
//@version=6
indicator("array.median example")
a = array.new_float(0)
for i = 0 to 9
    array.push(a, close[i])
plot(array.median(a))
RETURNS
The median of the array's elements.
SEE ALSO
array.medianarray.avgarray.variancearray.min
array.min()4 overloads
The function returns the smallest value, or the nth smallest value in a given array.
SYNTAX & OVERLOADS
array.min(id) → series float
array.min(id) → series int
array.min(id, nth) → series float
array.min(id, nth) → series int
ARGUMENTS
id (array<int/float>) An array object.
EXAMPLE
//@version=6
indicator("array.min")
a = array.from(5, -2, 0, 9, 1)
secondLowest = array.min(a, 1) // 0
plot(secondLowest)
RETURNS
The smallest or the nth smallest value in the array.
SEE ALSO
array.new_floatarray.maxarray.sum
array.mode()2 overloads
The function returns the mode of an array's elements. If there are several values with the same frequency, it returns the smallest value.
SYNTAX & OVERLOADS
array.mode(id) → series float
array.mode(id) → series int
ARGUMENTS
id (array<int/float>) An array object.
EXAMPLE
//@version=6
indicator("array.mode example")
a = array.new_float(0)
for i = 0 to 9
    array.push(a, close[i])
plot(array.mode(a))
RETURNS
The most frequently occurring value from the id array. If none exists, returns the smallest value instead.
SEE ALSO
array.new_floatta.modematrix.modearray.avgarray.variancearray.min
array.new_bool()
The function creates a new array object of bool type elements.
SYNTAX
array.new_bool(size, initial_value) → array<bool>
ARGUMENTS
size (series int) Initial size of an array. Optional. The default is 0.
initial_value (series bool) Initial value of all array elements. Optional. The default is 'false'.
EXAMPLE
//@version=6
indicator("array.new_bool example")
length = 5
a = array.new_bool(length, close > open)
plot(array.get(a, 0) ? close : open)
RETURNS
The ID of an array object which may be used in other array.*() functions.
REMARKS
An array index starts from 0.
SEE ALSO
array.new_floatarray.getarray.slicearray.sort
array.new_box()
The function creates a new array object of box type elements.
SYNTAX
array.new_box(size, initial_value) → array<box>
ARGUMENTS
size (series int) Initial size of an array. Optional. The default is 0.
initial_value (series box) Initial value of all array elements. Optional. The default is 'na'.
EXAMPLE
//@version=6
indicator("array.new_box example")
boxes = array.new_box()
array.push(boxes, box.new(time, close, time+2, low, xloc=xloc.bar_time))
plot(1)
RETURNS
The ID of an array object which may be used in other array.*() functions.
REMARKS
An array index starts from 0.
SEE ALSO
array.new_floatarray.getarray.slice
array.new_color()
The function creates a new array object of color type elements.
SYNTAX
array.new_color(size, initial_value) → array<color>
ARGUMENTS
size (series int) Initial size of an array. Optional. The default is 0.
initial_value (series color) Initial value of all array elements. Optional. The default is 'na'.
EXAMPLE
//@version=6
indicator("array.new_color example")
length = 5
a = array.new_color(length, color.red)
plot(close, color = array.get(a, 0))
RETURNS
The ID of an array object which may be used in other array.*() functions.
REMARKS
An array index starts from 0.
SEE ALSO
array.new_floatarray.getarray.slicearray.sort
array.new_float()
The function creates a new array object of float type elements.
SYNTAX
array.new_float(size, initial_value) → array<float>
ARGUMENTS
size (series int) Initial size of an array. Optional. The default is 0.
initial_value (series int/float) Initial value of all array elements. Optional. The default is 'na'.
EXAMPLE
//@version=6
indicator("array.new_float example")
length = 5
a = array.new_float(length, close)
plot(array.sum(a) / length)
RETURNS
The ID of an array object which may be used in other array.*() functions.
REMARKS
An array index starts from 0.
SEE ALSO
